import{a as Pt}from"./chunk-HIXVO6KP.js";import{a as Mt}from"./chunk-BQ562IZZ.js";import{c as xt,d as bt,f as D,g as vt,h as wt}from"./chunk-XL3ZRAIB.js";import{a as A}from"./chunk-ZXTOKJOT.js";import{c as gt,f as E,l as yt}from"./chunk-JFV6WPIM.js";import{c as ht}from"./chunk-3SYVYTXG.js";import{$ as et,$a as c,Aa as u,Ea as rt,Ja as W,Ma as ot,O as K,Oa as j,T as G,U as v,Va as h,Vb as ft,Xa as it,Ya as at,Z,Za as st,Zb as pt,_ as tt,_a as s,_b as O,ab as g,db as ct,eb as P,fb as ut,kb as d,lb as dt,ma as nt,mb as w,tb as H,vb as V,wb as lt,xa as F,zb as mt}from"./chunk-C5O2SOKF.js";var Rt=Math.pow(10,8)*24*60*60*1e3,Se=-Rt;var T=43200,q=1440;var Ht=3600;var Dt=Ht*24,Ce=Dt*7,Vt=Dt*365.2425,qt=Vt/12,Ie=qt*3,J=Symbol.for("constructDateFrom");function L(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&J in t?t[J](n):t instanceof Date?new t.constructor(n):new Date(n)}function f(t,n){return L(n||t,t)}var Jt={};function St(){return Jt}function U(t){let n=f(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function S(t,...n){let e=L.bind(null,t||n.find(r=>typeof r=="object"));return n.map(e)}function C(t,n){let e=+f(t)-+f(n);return e<0?-1:e>0?1:e}function Ct(t,n,e){let[r,o]=S(e?.in,t,n),l=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth();return l*12+a}function It(t){return n=>{let r=(t?Math[t]:Math.trunc)(n);return r===0?0:r}}function kt(t,n){return+f(t)-+f(n)}function _t(t,n){let e=f(t,n?.in);return e.setHours(23,59,59,999),e}function Ft(t,n){let e=f(t,n?.in),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Tt(t,n){let e=f(t,n?.in);return+_t(e,n)==+Ft(e,n)}function Wt(t,n,e){let[r,o,l]=S(e?.in,t,t,n),a=C(o,l),i=Math.abs(Ct(o,l));if(i<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-a*i);let y=C(o,l)===-a;Tt(r)&&i===1&&C(r,l)===1&&(y=!1);let p=a*(i-+y);return p===0?0:p}function jt(t,n,e){let r=kt(t,n)/1e3;return It(e?.roundingMethod)(r)}var Ut={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ot=(t,n,e)=>{let r,o=Ut[t];return typeof o=="string"?r=o:n===1?r=o.one:r=o.other.replace("{{count}}",n.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function z(t){return(n={})=>{let e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}var Qt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Et={date:z({formats:Qt,defaultWidth:"full"}),time:z({formats:Bt,defaultWidth:"full"}),dateTime:z({formats:$t,defaultWidth:"full"})};var Kt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},At=(t,n,e,r)=>Kt[t];function I(t){return(n,e)=>{let r=e?.context?String(e.context):"standalone",o;if(r==="formatting"&&t.formattingValues){let a=t.defaultFormattingWidth||t.defaultWidth,i=e?.width?String(e.width):a;o=t.formattingValues[i]||t.formattingValues[a]}else{let a=t.defaultWidth,i=e?.width?String(e.width):t.defaultWidth;o=t.values[i]||t.values[a]}let l=t.argumentCallback?t.argumentCallback(n):n;return o[l]}}var Gt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},re={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oe=(t,n)=>{let e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Lt={ordinalNumber:oe,era:I({values:Gt,defaultWidth:"wide"}),quarter:I({values:Zt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:I({values:te,defaultWidth:"wide"}),day:I({values:ee,defaultWidth:"wide"}),dayPeriod:I({values:ne,defaultWidth:"wide",formattingValues:re,defaultFormattingWidth:"wide"})};function k(t){return(n,e={})=>{let r=e.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=n.match(o);if(!l)return null;let a=l[0],i=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],y=Array.isArray(i)?ae(i,_=>_.test(a)):ie(i,_=>_.test(a)),p;p=t.valueCallback?t.valueCallback(y):y,p=e.valueCallback?e.valueCallback(p):p;let x=n.slice(a.length);return{value:p,rest:x}}}function ie(t,n){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&n(t[e]))return e}function ae(t,n){for(let e=0;e<t.length;e++)if(n(t[e]))return e}function zt(t){return(n,e={})=>{let r=n.match(t.matchPattern);if(!r)return null;let o=r[0],l=n.match(t.parsePattern);if(!l)return null;let a=t.valueCallback?t.valueCallback(l[0]):l[0];a=e.valueCallback?e.valueCallback(a):a;let i=n.slice(o.length);return{value:a,rest:i}}}var se=/^(\d+)(th|st|nd|rd)?/i,ce=/\d+/i,ue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},de={any:[/^b/i,/^(a|c)/i]},le={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},me={any:[/1/i,/2/i,/3/i,/4/i]},fe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},he={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yt={ordinalNumber:zt({matchPattern:se,parsePattern:ce,valueCallback:t=>parseInt(t,10)}),era:k({matchPatterns:ue,defaultMatchWidth:"wide",parsePatterns:de,defaultParseWidth:"any"}),quarter:k({matchPatterns:le,defaultMatchWidth:"wide",parsePatterns:me,defaultParseWidth:"any",valueCallback:t=>t+1}),month:k({matchPatterns:fe,defaultMatchWidth:"wide",parsePatterns:pe,defaultParseWidth:"any"}),day:k({matchPatterns:he,defaultMatchWidth:"wide",parsePatterns:ge,defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:ye,defaultMatchWidth:"any",parsePatterns:xe,defaultParseWidth:"any"})};var Q={code:"en-US",formatDistance:Ot,formatLong:Et,formatRelative:At,localize:Lt,match:Yt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xt(t,n,e){let r=St(),o=e?.locale??r.locale??Q,l=2520,a=C(t,n);if(isNaN(a))throw new RangeError("Invalid time value");let i=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:a}),[y,p]=S(e?.in,...a>0?[n,t]:[t,n]),x=jt(p,y),_=(U(p)-U(y))/1e3,m=Math.round((x-_)/60),M;if(m<2)return e?.includeSeconds?x<5?o.formatDistance("lessThanXSeconds",5,i):x<10?o.formatDistance("lessThanXSeconds",10,i):x<20?o.formatDistance("lessThanXSeconds",20,i):x<40?o.formatDistance("halfAMinute",0,i):x<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):m===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",m,i);if(m<45)return o.formatDistance("xMinutes",m,i);if(m<90)return o.formatDistance("aboutXHours",1,i);if(m<q){let b=Math.round(m/60);return o.formatDistance("aboutXHours",b,i)}else{if(m<l)return o.formatDistance("xDays",1,i);if(m<T){let b=Math.round(m/q);return o.formatDistance("xDays",b,i)}else if(m<T*2)return M=Math.round(m/T),o.formatDistance("aboutXMonths",M,i)}if(M=Wt(p,y),M<12){let b=Math.round(m/T);return o.formatDistance("xMonths",b,i)}else{let b=M%12,R=Math.trunc(M/12);return b<3?o.formatDistance("aboutXYears",R,i):b<9?o.formatDistance("overXYears",R,i):o.formatDistance("almostXYears",R+1,i)}}var Y=class t{transform(n){let e=new Date(n);return Xt(new Date,e)}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=ot({name:"timeAgo",type:t,pure:!0})};var X=class t{constructor(n){this.http=n}apiUrl="";static \u0275fac=function(e){return new(e||t)(G(ht))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var Nt=t=>["/product",t];function we(t,n){if(t&1){let e=ct();s(0,"div",1),P("@curtainDrop.done",function(){tt(e);let o=ut();return et(o.showOverlay=!1)}),d(1," \xA1Se agreg\xF3 al carrito! "),c()}t&2&&h("@curtainDrop",void 0)}var N=class t{product;showOverlay=!1;cartService=v(A);ratingService=v(X);addToCartHandler(){this.cartService.addProduct(this.product),this.showOverlay=!0,setTimeout(()=>{this.showOverlay=!1},1500)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-products"]],inputs:{product:"product"},decls:20,vars:19,consts:[[1,"relative","w-full","max-w-[275px]","bg-white","border","border-gray-300","rounded-lg","shadow-md","dark:bg-gray-800","dark:border-gray-600","overflow-hidden","flex","flex-col","transition-all","duration-300"],[1,"absolute","inset-0","z-40","flex","items-center","justify-center","bg-blue-700","text-white","text-sm","font-bold"],[3,"routerLink"],[1,"relative","w-full","aspect-[4/3]","bg-gray-200","overflow-hidden","rounded-t-lg"],["alt","Imagen fondo",1,"absolute","inset-0","w-full","h-full","object-cover","blur-md","scale-110","opacity-40",3,"src"],[1,"relative","z-10","flex","items-center","justify-center","w-full","h-full"],["alt","Imagen producto",1,"max-w-full","max-h-full","object-contain","transition-transform","duration-200","hover:scale-105","drop-shadow-md","rounded-t-lg",3,"src"],[1,"bg-white","dark:bg-gray-800","px-4","py-4","flex","flex-col","justify-between","gap-2","rounded-b-lg"],[1,"text-sm","sm:text-base","font-semibold","tracking-tight","text-gray-900","dark:text-white","line-clamp-2"],[1,"flex","flex-col","space-y-1"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"text-xs","text-gray-500","dark:text-white"],[1,"cursor-pointer","mt-2","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-md","text-xs","px-4","py-2","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"]],template:function(e,r){e&1&&(s(0,"div",0),j(1,we,2,1,"div",1),s(2,"a",2)(3,"div",3),g(4,"img",4),s(5,"div",5),g(6,"img",6),c()()(),s(7,"div",7)(8,"a",2)(9,"h5",8),d(10),c()(),s(11,"div",9)(12,"span",10),d(13),V(14,"currency"),c(),s(15,"span",11),d(16),V(17,"timeAgo"),c(),s(18,"button",12),P("click",function(){return r.addToCartHandler()}),d(19," Add to cart "),c()()()()),e&2&&(u(),it(r.showOverlay?1:-1),u(),h("routerLink",H(15,Nt,r.product.id_producto)),u(2),h("src",r.product.imagen_url,F),u(2),h("src",r.product.imagen_url,F),u(2),h("routerLink",H(17,Nt,r.product.id_producto)),u(2),w(" ",r.product.nombre," "),u(3),w(" ",mt(14,8,r.product.precio,"$","symbol","1.2")," "),u(3),w(" ",lt(17,13,r.product.fecha_creacion)," "))},dependencies:[O,pt,Y,E],encapsulation:2,data:{animation:[xt("curtainDrop",[wt(":enter",[bt("1.5s ease-in-out",vt([D({transform:"translateY(-100%)",opacity:0,offset:0}),D({transform:"translateY(0)",opacity:1,offset:.2}),D({transform:"translateY(0)",opacity:1,offset:.75}),D({transform:"translateY(0)",opacity:.5,offset:.9}),D({transform:"translateY(0)",opacity:0,offset:1})]))])])]}})};var Me=(t,n)=>n.id_producto;function Pe(t,n){if(t&1&&(s(0,"div",16)(1,"div",17)(2,"div",18),g(3,"img",19),s(4,"div",20)(5,"h3",21),g(6,"i",22),d(7," Categor\xEDa actual "),c(),s(8,"p",23),d(9),c(),s(10,"p",24),d(11," Encuentra los mejores productos de "),s(12,"span",25),d(13),c(),d(14,". Calidad garantizada y opciones para todos los gustos \u{1F4A5} "),c()()(),s(15,"a",26),g(16,"i",27),d(17," Ir al inicio "),c()()()),t&2){let e=n.ngIf;u(3),h("src","img/"+e.img,F)("alt",e.nombre),u(6),w(" ",e.nombre," "),u(4),dt(e.nombre)}}function De(t,n){if(t&1&&g(0,"app-products",8),t&2){let e=n.$implicit;h("product",e)}}var $=class t{constructor(n){this.route=n}cartService=v(A);productService=v(Mt);categoryService=v(Pt);currentPage=0;pageSize=20;categoryId;currentCategory=nt(null);ngOnInit(){this.route.queryParams.subscribe(n=>{this.categoryId=+n.category_id||void 0,this.currentPage=0,this.getProducts(),this.loadCategoryInfo()})}loadCategoryInfo(){let e=this.categoryService.categories().find(r=>r.id===this.categoryId);this.currentCategory.set(e||null)}ngOnChanges(n){n.categoryId&&(this.currentPage=0,this.getProducts())}addToCart(n){console.log("Estamos agregando un producto desde el hijo!"),this.cartService.addProduct(n)}removeToCart(n){console.log("Estamos eliminando un producto desde el hijo!"),this.cartService.cart.update(e=>e.filter(r=>r.id_producto!==n.id_producto))}getProducts(){this.productService.loadProducts(this.categoryId,this.currentPage,this.pageSize)}goToPage(n){n>=0&&n<this.productService.totalPages()&&(this.currentPage=n,this.getProducts())}nextPage(){this.currentPage++,this.getProducts()}prevPage(){this.currentPage>0&&(this.currentPage--,this.getProducts())}static \u0275fac=function(e){return new(e||t)(rt(gt))};static \u0275cmp=W({type:t,selectors:[["app-list"]],inputs:{categoryId:"categoryId"},features:[Z],decls:26,vars:4,consts:[[1,"bg-gray-100","min-h-screen","py-12","px-4","pt-24"],[1,"w-full","max-w-7xl","mx-auto"],[1,"text-center","mb-10"],[1,"text-4xl","font-bold","text-gray-800","flex","items-center","justify-center","gap-3"],[1,"fas","fa-store","text-blue-600"],[1,"text-gray-600","mt-2","text-lg"],["class","mb-12",4,"ngIf"],[1,"grid","gap-6","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","justify-items-center","px-2"],[1,"m-2","w-full",3,"product"],[1,"my-12","border-gray-300"],["aria-label","Paginaci\xF3n de productos",1,"flex","justify-center","mt-6"],[1,"flex","items-center","space-x-2"],[1,"cursor-pointer","flex","items-center","gap-2","px-4","h-10","text-sm","text-gray-600","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-200","hover:text-black","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","font-semibold"],[1,"fas","fa-chevron-right"],[1,"mb-12"],[1,"flex","flex-col","md:flex-row","items-center","justify-between","gap-8","bg-white","shadow-2xl","rounded-2xl","p-8","border","border-gray-300","max-w-5xl","mx-auto"],[1,"flex","flex-col","md:flex-row","items-center","gap-8","flex-1"],[1,"w-32","h-32","md:w-48","md:h-48","rounded-xl","object-cover","border-4","border-blue-600","shadow-md",3,"src","alt"],[1,"text-center","md:text-left"],[1,"text-3xl","font-extrabold","text-gray-800","mb-2"],[1,"fas","fa-layer-group","text-blue-600"],[1,"text-2xl","text-gray-600","font-medium"],[1,"text-gray-500","mt-2","max-w-md"],[1,"font-semibold"],["routerLink","/",1,"mt-6","md:mt-0","md:ml-8","inline-block","px-6","py-3","bg-blue-600","text-white","font-bold","rounded-xl","shadow","hover:bg-blue-700","transition"],[1,"fas","fa-home","mr-2"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),g(4,"i",4),d(5," Productos Disponibles "),c(),s(6,"p",5),d(7,"Explora nuestra colecci\xF3n y encuentra el producto ideal para ti \u{1F3AF}"),c()(),j(8,Pe,18,4,"div",6),s(9,"div",7),at(10,De,1,1,"app-products",8,Me),c(),g(12,"hr",9),s(13,"nav",10)(14,"ul",11)(15,"li")(16,"button",12),P("click",function(){return r.prevPage()}),g(17,"i",13),d(18," Anterior "),c()(),s(19,"li")(20,"span",14),d(21),c()(),s(22,"li")(23,"button",12),P("click",function(){return r.nextPage()}),d(24," Siguiente "),g(25,"i",15),c()()()()()()),e&2&&(u(8),h("ngIf",r.currentCategory()),u(2),st(r.productService.products()),u(6),h("disabled",r.currentPage===0),u(5),w(" P\xE1gina ",r.currentPage+1," "),u(2),h("disabled",!r.productService.hasMore))},dependencies:[N,yt,E,O,ft],encapsulation:2})};export{$ as default};
