import{a as R}from"./chunk-HIXVO6KP.js";import{a as q}from"./chunk-BQ562IZZ.js";import{c as V,f as z,l as N}from"./chunk-JFV6WPIM.js";import"./chunk-3SYVYTXG.js";import{$ as g,$a as n,Aa as a,Ea as C,Ja as I,Oa as m,Tb as O,U as x,Ua as E,Ub as j,Va as l,Vb as H,Wb as A,Z as S,_ as p,_a as r,_b as T,ab as c,bb as k,cb as F,db as b,eb as f,fb as u,kb as d,lb as D,ma as w,mb as P,tb as v,ub as y,xa as h}from"./chunk-C5O2SOKF.js";var U=(t,i)=>({transform:t,zIndex:i}),M=t=>({category_id:t}),$=(t,i)=>({"bg-blue-600 border-blue-600":t,"bg-white border-gray-400":i});function X(t,i){if(t&1&&(r(0,"div",26)(1,"div",27),d(2),n(),r(3,"a",28),c(4,"img",29),n()()),t&2){let e=i.$implicit,o=i.index,s=u(2);l("ngStyle",y(5,U,"translateX("+(o-s.currentSlide)*100+"%)",o===s.currentSlide?10:1)),a(2),P(" ",e.nombre," "),a(),l("queryParams",v(8,M,e.id)),a(),l("src","img/"+e.img,h)("alt",e.nombre)}}function B(t,i){if(t&1){let e=b();r(0,"button",30),f("click",function(){let s=p(e).index,L=u(2);return g(L.showSlide(s))}),n()}if(t&2){let e=i.index,o=u(2);l("ngClass",y(3,$,e===o.currentSlide,e!==o.currentSlide)),E("aria-current",e===o.currentSlide)("aria-label","Slide "+(e+1))}}function G(t,i){if(t&1){let e=b();r(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),m(5,X,5,10,"div",17),n()(),r(6,"div",18),m(7,B,1,6,"button",19),n(),r(8,"button",20),f("click",function(){p(e);let s=u();return g(s.prevSlide())}),r(9,"span",21),c(10,"i",22),n()(),r(11,"button",23),f("click",function(){p(e);let s=u();return g(s.nextSlide())}),r(12,"span",24),c(13,"i",25),n()()()()()}if(t&2){let e=u();a(5),l("ngForOf",e.categories),a(2),l("ngForOf",e.categories)}}function J(t,i){if(t&1&&(k(0),r(1,"div",31)(2,"a",32),c(3,"img",33),r(4,"div",34)(5,"h3",35),d(6),n(),r(7,"p",36),d(8,"Ver productos \u2192"),n()()()(),F()),t&2){let e=i.$implicit;a(2),l("queryParams",v(4,M,e.id)),a(),l("src","img/"+e.img,h)("alt",e.nombre),a(3),D(e.nombre)}}var _=class t{constructor(i){this.route=i}currentSlide=0;slideInterval;direction="next";products=w([]);categoryService=x(R);productService=x(q);categoryId;ngOnInit(){this.route.queryParams.subscribe(i=>{this.categoryId=+i.id||void 0,this.getProducts()}),this.categoryService.loadCategories(),this.startAutoSlide()}ngOnChanges(i){i.categoryId&&this.getProducts()}ngOnDestroy(){clearInterval(this.slideInterval)}getProducts(){this.productService.loadProducts(this.categoryId)}get categories(){return this.categoryService.categories()}showSlide(i){let e=this.categories.length;this.currentSlide=(i+e)%e,this.resetAutoSlide()}nextSlide(){this.direction="next",this.showSlide(this.currentSlide+1)}prevSlide(){this.direction="prev",this.showSlide(this.currentSlide-1)}startAutoSlide(){this.slideInterval=setInterval(()=>{this.nextSlide()},4800)}resetAutoSlide(){clearInterval(this.slideInterval),this.startAutoSlide()}static \u0275fac=function(e){return new(e||t)(C(V))};static \u0275cmp=I({type:t,selectors:[["app-home"]],inputs:{categoryId:"categoryId"},features:[S],decls:16,vars:2,consts:[[1,"bg-gradient-to-r","from-blue-600","to-purple-600","text-black","py-6","px-4","text-center","pt-24"],[1,"text-5xl","font-bold","mb-2"],[1,"fas","fa-bolt"],[1,"text-2xl"],[1,"max-w-6xl","mx-auto","mt-10","mb-10","bg-white","rounded-2xl","shadow-lg","border-2","border-gray-200","px-4","py-8"],[1,"text-2xl","font-bold","text-gray-800","flex","items-center","gap-2","mb-8"],[1,"fas","fa-th-large","text-blue-600"],["class","flex justify-center w-full mb-10",4,"ngIf"],[1,"text-2xl","font-bold","text-gray-800","flex","items-center","gap-2","mb-6"],[1,"fas","fa-tags","text-green-600"],[1,"columns-2","md:columns-4","gap-4"],[4,"ngFor","ngForOf"],[1,"flex","justify-center","w-full","mb-10"],[1,"w-full","max-w-5xl","mx-auto"],[1,"relative","border-2","border-gray-300","rounded-xl","shadow-lg","bg-white","overflow-hidden"],[1,"relative","h-120","md:h-[34rem]"],[1,"w-full","h-full","relative"],["class","absolute top-0 left-0 w-full h-full transition-transform duration-700 ease-in-out",3,"ngStyle",4,"ngFor","ngForOf"],[1,"absolute","z-30","flex","-translate-x-1/2","space-x-3","bottom-5","left-1/2"],["type","button","class","w-3 h-3 rounded-full border-2 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cursor-pointer","absolute","top-0","start-0","z-30","h-full","px-4","flex","items-center","justify-center",3,"click"],[1,"w-10","h-10","rounded-full","bg-gray-400/60","hover:bg-white/50","flex","items-center","justify-center"],[1,"fas","fa-chevron-left","text-white"],[1,"cursor-pointer","absolute","top-0","end-0","z-30","h-full","px-4","flex","items-center","justify-center",3,"click"],[1,"w-10","h-10","rounded-full","bg-gray-400/60","hover:bg-white/10","flex","items-center","justify-center"],[1,"fas","fa-chevron-right","text-white"],[1,"absolute","top-0","left-0","w-full","h-full","transition-transform","duration-700","ease-in-out",3,"ngStyle"],[1,"absolute","top-0","left-0","right-0","z-20","bg-black/60","text-white/80","text-center","py-1","text-base","font-semibold","rounded-t-xl"],["routerLink","/list",1,"block","w-full","h-full","hover:scale-105","transition-transform","duration-300","relative",3,"queryParams"],[1,"w-full","h-full","object-cover","rounded-xl",3,"src","alt"],["type","button",1,"w-3","h-3","rounded-full","border-2","cursor-pointer",3,"click","ngClass"],[1,"mb-4","break-inside-avoid"],["routerLink","/list",1,"block","bg-gray-400/30","shadow-md","rounded-lg","overflow-hidden","hover:scale-105","transition-transform","duration-300","group",3,"queryParams"],[1,"w-full","h-auto","max-h-80","object-cover","rounded-t-lg",3,"src","alt"],[1,"p-4","text-center"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-sm","text-gray-500"]],template:function(e,o){e&1&&(r(0,"section",0)(1,"h2",1),c(2,"i",2),d(3," \xA1Ofertas de Temporada!"),n(),r(4,"p",3),d(5,"Descubre nuestras categor\xEDas m\xE1s populares y aprovecha hasta 10% de descuento en la tienda m\xE1s cara del pa\xEDs\u{1F525}"),n()(),r(6,"div",4)(7,"h2",5),c(8,"i",6),d(9," Categor\xEDas Destacadas "),n(),m(10,G,14,2,"div",7),r(11,"h2",8),c(12,"i",9),d(13," Explora por Categor\xEDa "),n(),r(14,"div",10),m(15,J,9,6,"ng-container",11),n()()),e&2&&(a(10),l("ngIf",o.categories.length>0),a(5),l("ngForOf",o.categories))},dependencies:[N,z,T,O,j,H,A],encapsulation:2})};export{_ as default};
